<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Alter-O-Matic</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <link rel="stylesheet" type="text/css" href="style.css">
    <style type="text/css"></style>
</head>
<body>
<script type="text/javascript">
    function myTarget(form) {
        for (i = 0; i < form.target_type.length; i++) {
            if (form.target_type[i].checked)
                val = form.target_type[i].value;
        }
        form.action = val;
        return true;
    }
</script>

</p><img src="banner.png"/>
</p>

<h2>This tool produces alter/rollback scripts based on 2 crebas.sql (Oracle).</h2>
    
    <h3>All Fields are mandatory. Only a subset of Oracle SQL, like that generated by MCD/PowerAMC is recognized (tested on current crebas.sql only)</h3>
    <h3>It is currently in development stage, and provided as is. 
    /!\ Alter scripts produced can contain errors, please check and test them. Please signal any errors you come across, I will try to fix them as they come</h3>

<div id="container">
<form action="" method="POST" onSubmit="return myTarget(this);" target="_blank">

    <fieldset>
        <legend>Component version jump</legend>
        <div class="fm-req" title="Choose hmm-broker for trunk and recent branches">
            <label for="component">Choose component version to update:</label>
            <select id="component" name="component">
                <option value="hmm-broker" selected="selected">hmm-broker</option>
                <option value="hmm-database">hmm-database</option>
                <option value="hmm-algo">hmm-algo</option>
                <option value="hmm-auditserver">hmm-auditserver</option>
                <option value="hmm-brokerage-broker">hmm-brokerage-broker</option>
                <option value="hmm-option-strategy-pricer">hmm-option-strategy-pricer</option>
                <option value="hmm-risk-analysis">hmm-risk-analysis</option>
                <option value="hmm-volatility-autofit">hmm-volatility-autofit</option>
                <option value="hmm-web-imc-driver">hmm-web-imc-driver</option>
            </select>
		</div> <br/>
		     
        <div class="fm-req" title="Enter current database version here eg. 1.236.0">
            <label for="prev">Current version:</label>
            <input id="prev" name="prev" type="text"/>
        </div>     <br/>


        <div class="fm-req" title="Enter next database version here eg. 1.237.0"> 
            <label for="next">Next version:</label>
            <input id="next" name="next" type="text"/>
        </div>
     </fieldset>
     <fieldset>
        <legend>Target SQL Dialect</legend>
        <div class="fm-req">
            <label for="vendor">Target sql dialect</label>
            <select id="vendor" name="vendor">
                <option value="all" selected="selected">All</option>
                <option value="summary">*Summary*</option>
                <option value="sqlserver">Sqlserver</option>
                <option value="sybase">Sybase</option>
                <option value="oracle">Oracle</option>
			 <option value="mysql">MySQL</option>
            </select>

        </div>
    </fieldset>

    <fieldset>

        <legend>Crebas.sql files (paste whole file contents in each text area)</legend>


        <div class="fm-req">
            <label for="crebas1">Current crebas.sql</label>
            <textarea id="crebas1" name="crebas1" cols="110" rows="25"></textarea>
        </div>

        <div class="fm-req">
            <label for="crebas2">Next crebas.sql</label>
            <textarea id="crebas2" name="crebas2" cols="110" rows="25"></textarea>
        </div>

        <div class="fm-req">
            <label for="alter">Alter</label>
            <input id="alter" type="radio" name="target_type" value="http://192.168.7.45:9090/crebas2alter/alter" checked />
        </div>
        <div class="fm-req">
            <label for="rollback">Rollback</label>
            <input id="rollback" type="radio" name="target_type" value="http://192.168.7.45:9090/crebas2alter/rollback" />
        </div>
	    <div class="fm-req">
            <label for="check">Check 'IF NOT EXIST'</label>
            <input id="check" type="checkbox" name="check" checked />
        </div>
    </fieldset>

    <div id="fm-submit" class="fm-req">
        <input name="Submit" value="Submit" type="submit">
    </div>



</form>
</div>
</body>
</html>